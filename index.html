<head>
  <script type="text/javascript">
    function getTime() {
      var now = new Date();
      var year = now.getFullYear(); //得到年份
      var month = now.getMonth() + 1;//得到月份
      var date = now.getDate();//得到日期
      var hour = now.getHours();//得到小时数
      var minute = now.getMinutes();//得到分钟数
      var seconds = now.getSeconds();//得到分钟数
      return year + (month >= 10 ? '-' : '-0') + month + (date >= 10 ? "-" : "-0") + date + (hour >= 10 ? " " : " 0") + hour + (minute >= 10 ? ":" : ":0") + minute + (seconds >= 10 ? ":" : ":0") + seconds
    }

    const logBuffer = []
    const maxLogLine = 100

    function appendLogContent(s) {
      logBuffer.push('[' + getTime() + "] " + s )
      if (logBuffer.length > maxLogLine) {
        logBuffer.shift()
      }
      const elem = document.getElementById("log-content")
      elem.innerHTML = logBuffer.join("\n")
      elem.scrollTop = elem.scrollHeight
    }

    let isSwitchOn = false
    function onClickSwitchButton() {
      appendLogContent("1")
      let text = "暂停"
      let style = "background-color: red;color: white;"
      if (isSwitchOn) {
        text = "启动"
        style = "background-color: rgb(36, 180, 36);color: white;"
      }
      isSwitchOn = !isSwitchOn
      const elem = document.getElementById('switch')
      elem.innerText = text
      elem.style = style
    }
  </script>
</head>

<body>
  <div><button id="switch" onclick="onClickSwitchButton()"
      style="background-color: rgb(36, 180, 36);color: white;">启动</button></div>
  <div><textarea disabled id="log-content" style="margin-top: 5px;height: 95%;width:100%;resize: none;"></textarea>
  </div>
</body>